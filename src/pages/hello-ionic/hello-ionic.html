<ion-header>
  <ion-navbar  color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Bender</ion-title>
  </ion-navbar>
</ion-header>
<ion-content id="home-content" padding>


<ion-segment [(ngModel)]="choice" class="toolbar">
  <ion-segment-button icon-left role="button" color="primary" value="beersearch">
    <ion-icon name="beer"></ion-icon>Find a beer
  </ion-segment-button>   
  <ion-segment-button icon-left role="button" color="primary" (click)="getLocal()" value="locationsearch">
    <ion-icon name="pint"></ion-icon>Find a brewery or bar
  </ion-segment-button>         
</ion-segment>

<div [ngSwitch]="choice">

  <ion-list *ngSwitchCase="'beersearch'">
      <form [formGroup] = "qSearchBeerForm" (submit) = "doSearchBeer()">
        <div align="center">            
            <div class="search-input">
              <ion-list>
                <ion-item class="search-beer">
                    <ion-input id="search" type="text" value="{{qSearchBeer}}" formControlName="qSearchBeer" placeholder="Enter a beer"></ion-input>             
                    <button large item-right ion-button>
                      <ion-icon name="search"></ion-icon>
                    </button>
                </ion-item>
              </ion-list>
            </div>
        </div>
      </form>
  </ion-list>

  <ion-list *ngSwitchCase="'locationsearch'">
    <div>
      <form [formGroup] = "qSearchLocationForm" (submit) = "doSearchLocation()">
        <div align="center">            
            <div class="search-input">
              <ion-list>
                <ion-item class="search-beer">
                    <ion-input id="search" type="text" value="{{qSearchLocation}}" formControlName="qSearchLocation" placeholder="Enter a brewery or a bar"></ion-input>             
                    <button large item-right ion-button>
                      <ion-icon name="search"></ion-icon>
                    </button>
                </ion-item>
              </ion-list>
            </div>
        </div>
      </form>
    </div>
    <div [hidden]="locations==null">
      <ion-list>
        <h3>
         Breweries and bars located in {{sing.geoCity}}, {{sing.geoState}} 
        </h3>
      </ion-list>
      <ion-list>
        <button ion-item *ngFor="let location of locations" (click) = "getLocationDetail(location)">
          <h2>{{ location.name }}</h2>
          <h3 [hidden]="location.overall==0">Score: {{location.overall}}</h3>
          <p>Location: {{ location.street }} {{ location.city }} {{location.state}} {{location.zip}} {{location.country}}</p>
          <p>{{location.status}}</p>
          <ion-icon name="arrow-forward" item-right></ion-icon>
        </button>
      </ion-list>
    </div>          
  </ion-list>

</div>

</ion-content>
